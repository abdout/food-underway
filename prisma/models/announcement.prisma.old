// Announcements

enum AnnouncementScope {
  school
  class
  role
}

model Announcement {
  id        String            @id @default(cuid())
  schoolId  String
  title     String
  body      String
  scope     AnnouncementScope @default(school)
  classId   String?
  class     Class?            @relation(fields: [classId], references: [id])
  role      String?
  published Boolean           @default(false)

  school School @relation(fields: [schoolId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([schoolId, scope])
  @@index([schoolId, published])
  @@map("announcements")
}
